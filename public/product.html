<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Crystal Industries Ltd.</title>
  <link rel="stylesheet" href="css/template.css" />
  <link rel="stylesheet" href="css/product.css" />
  <link rel="icon" type="image/png" href="images/crystal-logo.png" />
</head>

<body>
  <header>
    <a href="index.html" class="logo-link">
      <img src="images/crystal-logo-blue.png" alt="Crystal Logo" class="logo-img" />
    </a>
    <button class="hamburger" aria-label="Open menu" aria-expanded="false">
      &#9776;
    </button>
    <nav>
      <ul class="main-nav">
        <li><a href="products.html">Products</a></li>
        <li><a href="contact.html">Contact</a></li>
        <li><a href="about.html">About Us</a></li>
        <li><a href="contact.html" class="quote-btn">Get a Quote</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <div class="products-detail-header">
      <button id="admin-login-btn">
        <img src="images/admin-login.png" alt="Admin Login" />
      </button>
      <button id="edit-product-btn" class="admin-only">Edit Product</button>
    </div>
    <!-- Popup Modal for Product Form -->
    <div id="edit-product-modal" class="modal">
      <div class="modal-content">
        <button id="close-edit-modal-btn" class="close-modal-btn">&times;</button>
        <form id="edit-product-form" enctype="multipart/form-data">
          <label>
            <b>Name:</b>
            <input type="text" id="edit-product-name" required>
          </label><br>
          <label class="toggle-switch">
            <b>Featured:</b>
            <input type="checkbox" id="edit-product-featured">
            <span class="slider"></span>
          </label>
          <label>
            <b>Brand:</b>
            <select id="edit-product-brand" required>
              <option value="">Select Brand</option>
              <option value="Oxford">Oxford</option>
              <option value="Kifaru">Kifaru</option>
              <option value="Crystal">Crystal</option>
              <option value="Royal">Royal</option>
            </select>
          </label><br>
          <label>
            <b>Finish:</b>
            <select id="edit-product-finish" required>
              <option value="">Select Finish</option>
              <option value="Regular">Regular</option>
              <option value="Emery">Emery</option>
              <option value="Polished">Polished</option>
            </select>
          </label><br>
          <label>
            <b>Images:</b>
            <input type="file" id="edit-product-image" name="images" accept="image/png, image/jpeg" multiple>
            <span id="edit-image-file-name"></span>
          </label>
          <div id="edit-image-preview-container" style="display: flex; gap: 0.5em; flex-wrap: wrap;">
            <!-- Multiple image previews will be inserted here -->
          </div>
          <!-- <small style="display:block; color:#888; margin-top:2px; margin-bottom:8px;">
            (drag images to reorder) -->
          </small>
          <label>
            <b>Description:</b>
            <textarea id="edit-product-description" required></textarea>
          </label><br>
          <div id="edit-sizes-section">
            <label><b>Sizes</b></label>
            <div class="size-input-row">
              <input type="text" id="edit-product-size" placeholder="Size" />
              <input type="text" id="edit-product-packing" placeholder="Packing (Per Carton)" />
            </div>
            <div class="packing-and-add">
              <div id="edit-packing-dots" class="packing-dots"></div>
              <button type="button" id="edit-add-size-btn" aria-label="Add Size">
                <svg viewBox="0 0 24 24" fill="none" stroke="#FB8100" stroke-width="3" stroke-linecap="round"
                  stroke-linejoin="round" style="width:1.5em;height:1.5em;">
                  <line x1="12" y1="5" x2="12" y2="19" />
                  <line x1="5" y1="12" x2="19" y2="12" />
                </svg>
              </button>
            </div>
            <div id="edit-sizes-list"></div>
          </div>
          <br>
          <label>
            <b>Key Features:</b>
            <input type="text" id="edit-product-key-feature-input" placeholder="Enter a key feature" />
          </label>
          <div style="display: flex; align-items: center; gap: 0.5em;">
            <button type="button" id="edit-add-key-feature-btn" aria-label="Add Key Feature" style="padding:0.3em 0.7em;">
              <svg viewBox="0 0 24 24" fill="none" stroke="#FB8100" stroke-width="3" stroke-linecap="round"
                stroke-linejoin="round" style="width:1.2em;height:1.2em;">
                <line x1="12" y1="5" x2="12" y2="19" />
                <line x1="5" y1="12" x2="19" y2="12" />
              </svg>
            </button>
          </div>
          <ul id="edit-key-features-list" style="margin:0 0 1em 1.2em; padding:0; list-style:disc;"></ul>
          <input type="hidden" id="edit-product-key_features" name="key_features" />
          <button type="submit">Save Changes</button>
        </form>
      </div>
    </div>

    <section id="product-detail">
      <!-- Product details will be loaded here -->
    </section>
  </main>

  <footer>
    <div class="footer-title">
      Get in Touch
    </div>
    <div class="footer-contacts">
      <span>
        <img src="images/contact-phone-icon.png" alt="Phone" class="footer-icon" />
        +254 722 243333 /
        +254 733 243333
      </span>
      <span>
        <img src="images/contact-mail-icon.png" alt="Mail" class="footer-icon" />
        info@crystalindustries.co.ke
      </span>
      <span>
        <img src="images/contact-location-icon.png" alt="Location" class="footer-icon" />
        <a href="https://maps.app.goo.gl/cgiFDz4ia5P1Pks68" target="_blank" rel="noopener">
          Magana Rd, Kikuyu
        </a>
      </span>
      <span>
        <a href="https://www.facebook.com/profile.php?id=61560067889578" target="_blank" rel="noopener">
          <img src="images/contact-facebook-icon.png" alt="Facebook" class="footer-icon" style="margin-right: 1em;"/>
        </a>
        <a href="https://www.instagram.com/crystal_industries_kenya/" target="_blank" rel="noopener">
          <img src="images/contact-instagram-icon.png" alt="Instagram" class="footer-icon" />
        </a>
      </span>
    </div>
  </footer>
  <script src="js/product-detail.js"></script>
  <script>
    const hamburger = document.querySelector('.hamburger');
    const nav = document.querySelector('.main-nav');
    hamburger.addEventListener('click', function () {
      nav.classList.toggle('open');
      hamburger.setAttribute('aria-expanded', nav.classList.contains('open'));
    });
  </script>
</body>

</html>